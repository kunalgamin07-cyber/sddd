<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Seva Booking</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="images/png" href="https://github.com/SDDD1964/website/blob/main/download.png?raw=true">
    <style>
        .hero-bg {
            background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://images.unsplash.com/photo-1585032226651-759b368d7246?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1472&q=80');
            background-size: cover;
            background-position: center;
        }
        .seva-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            border: 1px solid #800000;
        }
        .calendar-day:hover:not(.disabled) {
            background-color: #f3f4f6;
            cursor: pointer;
        }
        .selected-date {
            background-color: #f59e0b;
            color: white;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header -->
    <header class="bg-[#800000] shadow-md">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <img src="https://github.com/SDDD1964/website/blob/main/download.png?raw=true" alt="Divine Blessings Logo" class="h-10">
                <div class="flex flex-col">
                        <h1 class="text-2xl font-bold text-white">Shree Dattatreya Durgambika Devasthana</h1>
                        <h2 class="text-lg text-white">Online Seva Booking</h2>
                    </div>
            </div>
    </header>

    <!-- Seva Booking Section -->
    <section id="seva-booking" class="pt-4 pb-12 bg-white">
        <div class="container mx-auto px-4 max-w-4xl">
            <div class="bg-white rounded-lg shadow-md p-8">
                <h2 class="text-2xl font-bold mb-6 text-gray-800">Available Sevas</h2>
                <div class="space-y-4">
                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">1. Sarva Seva</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed every Saturday.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹25,001</span>
                            <button onclick="selectSeva('Sarva Seva', 25001)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>
                    
                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">2. Maha Pooja</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed every Saturday.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹15,001</span>
                            <button onclick="selectSeva('Maha Pooja', 15001)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>
                    
                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">3. Poorna Alankara Seva</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed every Saturday.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹10,001</span>
                            <button onclick="selectSeva('Poorna Alankara Seva', 10001)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>
                    
                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">4. Deepa Alankara Seva</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed every Saturday.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹7,001</span>
                            <button onclick="selectSeva('Deepa Alankara Seva', 7001)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>
                    
                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">5. Annadana Seva</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed every Saturday.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹7,001</span>
                            <button onclick="selectSeva('Annadana Seva', 7001)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>
                    
                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">6. Maha Naivedya</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed every Saturday.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹5,001</span>
                            <button onclick="selectSeva('Maha Naivedya', 5001)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">7. Alankara Seva</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed every Saturday.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹2,001</span>
                            <button onclick="selectSeva('Alankara Seva', 2001)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>
               
                   <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">8. Navadurga Pooja</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed every Saturday.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹1,001</span>
                            <button onclick="selectSeva('Navadurga Pooja', 1001)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>
             
                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">9. Puspha Pooja</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed everyday on Temple Timings.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹501</span>
                            <button onclick="selectSeva('Pushpa Pooja', 501)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">10. Durga Pooja</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed everyday on Temple Timings.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹301</span>
                            <button onclick="selectSeva('Durga Pooja', 301)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>
 
                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">11. Dattatreya Pooja</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed everyday on Temple Timings.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹301</span>
                            <button onclick="selectSeva('Dattatreya Pooja', 301)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">12. Gaddige Pooja</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed everyday on Temple Timings.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹251</span>
                            <button onclick="selectSeva('Gaddige Pooja', 251)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">13. Annjaneya Seva</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed everyday on Temple Timings.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹301</span>
                            <button onclick="selectSeva('Annjaneya Seva', 301)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">14. Laxmi Kayee</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed every Saturday. Be available during Devi Darshana for Laxmi Kayee.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹251</span>
                            <button onclick="selectSeva('Laxmi Kayee', 251)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">15. Kalasha Sthana</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed everyday on Temple Timings.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹251</span>
                            <button onclick="selectSeva('Kalasha Sthana', 251)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">16. Prashne</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed every Saturday. Be available during Devi Darshana.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹201</span>
                            <button onclick="selectSeva('Prashne', 201)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">17. Naga Tanu</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed on every Naga Panchami. Contact Temple Office for Details about the Timings.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹151</span>
                            <button onclick="selectSeva('Naga Tanu', 151)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">18. Kumkum Archane</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed everyday on Temple Timings.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹101</span>
                            <button onclick="selectSeva('Kumkum Archane', 101)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">19. Karpoora Aarthi</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed everyday on Temple Timings.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹51</span>
                            <button onclick="selectSeva('Karpoora Aarthi', 51)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">20. Annadana</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed every Saturday.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹7,001</span>
                            <button onclick="selectSeva('Annadana', 7001)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">21. Shaswata Pooja</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed everyday on Temple Timings.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹2,001</span>
                            <button onclick="selectSeva('Shaswata Pooja', 2001)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">22. Dosha Nivarane (Single)</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed on Last Saturday of every Month. Be Available during Chamundi Darshana.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹2,501</span>
                            <button onclick="selectSeva('Dosha Nivarane (Single)', 2501)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>
 
                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">23. Dosha Nivarane (Family)</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed on Last Saturday of every Month. Be Available during Chamundi Darshana.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹3,501</span>
                            <button onclick="selectSeva('Dosha Nivarane (Family)', 3501)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">24. Chamundi Paniyara Seva</h3>
                            <p class="text-gray-600 text-sm">This Seva is performed only on Sankrant Of Every Month. Contact Temple Office for Timings.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹501</span>
                            <button onclick="selectSeva('Chamundi Paniyara Seva', 501)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center border-b pb-4">
                        <div>
                            <h3 class="font-bold text-gray-800">25. Four Wheeler Pooja</h3>
                            <p class="text-gray-600 text-sm">This Seva is perfomed during Temple Timings. Contact Temple Office for more details.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹501</span>
                            <button onclick="selectSeva('Four Wheeler Pooja', 501)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="font-bold text-gray-800">26. Two Wheeler Pooja</h3>
                            <p class="text-gray-600 text-sm">This Seva is perfomed during Temple Timings. Contact Temple Office for more details.</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-yellow-600 font-bold">₹251</span>
                            <button onclick="selectSeva('Two Wheeler Pooja', 251)" class="bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded transition duration-300">Select</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- Booking Form Section (initially hidden) -->
    <section id="booking-form-section" class="py-16 bg-gray-50 hidden">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-gray-800">Complete Your Booking</h2>
            
            <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Left Column - Seva Details -->
                    <div>
                        <h3 class="text-xl font-bold mb-4 text-gray-800">Seva Details</h3>
                        <div class="bg-yellow-50 p-4 rounded-lg mb-6">
                            <div class="flex justify-between mb-2">
                                <span class="font-medium">Selected Seva:</span>
                                <span id="selected-seva-name" class="font-bold">Sarva Seva</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="font-medium">Amount:</span>
                                <span id="selected-seva-amount" class="font-bold text-yellow-600">₹25001</span>
                            </div>
                            <div id="seva-date-info" class="mt-4 text-sm text-gray-600">
                                <p id="seva-date-text">This seva will be performed the next Saturday of booking.</p>
                                <div id="date-selection" class="mt-2 hidden">
                                    <label for="seva-date" class="block text-gray-700 mb-1">Select Date:</label>
                                    <input type="date" id="seva-date" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-yellow-500">
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- Right Column - Personal Details -->
                    <div>
                        <h3 class="text-xl font-bold mb-4 text-gray-800">Personal Details</h3>
                        <p class="text-gray-600 mb-4">After submitting, your details will be sent to us via email. Please ensure your email client is configured.</p>
                        <form id="booking-form">
                            <div class="mb-4">
                                <label for="full-name" class="block text-gray-700 mb-2">Full Name*</label>
                                <input type="text" id="full-name" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-yellow-500" required>
                            </div>
                            <div class="mb-4">
                                <label for="email" class="block text-gray-700 mb-2">Email*</label>
                                <input type="email" id="email" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-yellow-500" required>
                            </div>
                            <div class="mb-4">
                                <label for="phone" class="block text-gray-700 mb-2">Phone Number*</label>
                                <input type="tel" id="phone" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-yellow-500" required>
                            </div>
                            <div class="mb-4">
                                <label for="address" class="block text-gray-700 mb-2">Address</label>
                                <textarea id="address" rows="2" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-yellow-500"></textarea>
                            </div>
                            <div class="mb-6">
                                <label for="any-questions" class="block text-gray-700 mb-2">Any Questions</label>
                                <textarea id="any-questions" rows="3" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-yellow-500"></textarea>
                            </div>
                            <div class="flex items-center mb-6">
                                <input type="checkbox" id="terms" class="mr-2" required>
                                <label for="terms" class="text-gray-700">I agree to the <a href="fourth.html" class="text-yellow-600 hover:underline">terms and conditions</a></label>
                            </div>
                            <button type="button" onclick="processPayment()" class="w-full bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-4 rounded transition duration-300">Proceed to Payment</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Payment Modal (hidden by default) -->
    <div id="payment-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800 mb-2">Complete Payment</h3>
                <p class="text-gray-600 mb-4">Scan the QR code below to pay ₹<span id="payment-amount">0</span></p>
                
                <!-- QR Code for Payment -->
                <div class="bg-gray-100 p-4 rounded-lg mb-4 flex justify-center">
                    <div class="w-48 h-48 bg-white p-2 border border-gray-300">
                        <img src="https://github.com/SDDD1964/website/blob/main/IMG_20250820_205141.png?raw=true${selectedSeva.amount}" 
                             alt="Payment QR Code" 
                             class="w-full h-full object-contain">
                        <p class="text-sm text-center mt-2 text-gray-500">Scan to Pay</p>
                    </div>
                </div>
                <p class="text-center text-sm text-gray-600 mb-4">Click 'Payment Done' button after completing the payment</p>
                
                <div class="flex justify-between mb-4">
                    <span class="font-medium">Seva:</span>
                    <span id="payment-seva" class="font-bold">Sarva Seva</span>
                </div>
                <div class="flex justify-between">
                    <span class="font-medium">Amount:</span>
                    <span id="payment-amount-display" class="font-bold text-yellow-600">₹25001</span>
                </div>
            </div>
            <div class="flex justify-between">
                <button onclick="closePaymentModal()" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded transition duration-300">Cancel</button>
                <button onclick="verifyPayment()" class="bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-2 px-6 rounded transition duration-300">Payment Done</button>
            </div>
        </div>
    </div>

    <!-- Loading Modal (hidden by default) -->
    <div id="loading-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4 text-center">
            <div class="animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-yellow-600 mx-auto mb-4"></div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">Processing Your Booking</h3>
            <p class="text-gray-600">Please wait while we confirm your payment and booking...</p>
        </div>
    </div>

    <!-- Confirmation Modal (hidden by default) -->
    <div id="confirmation-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <i class="fas fa-check-circle text-5xl text-green-500 mb-4"></i>
                <h3 class="text-2xl font-bold text-gray-800 mb-2">Booking Confirmed!</h3>
                <p class="text-gray-600">Your seva booking has been successfully submitted.</p>
            </div>
            <div class="bg-gray-50 p-4 rounded-lg mb-6">
                <div class="flex justify-between mb-2">
                    <span class="font-medium">Booking ID:</span>
                    <span id="booking-id" class="font-bold">TEMP123456</span>
                </div>
                <div class="flex justify-between mb-2">
                    <span class="font-medium">Seva:</span>
                    <span id="confirmation-seva" class="font-bold">Sarva Seva</span>
                </div>
                <div class="flex justify-between mb-2">
                    <span class="font-medium">Date:</span>
                    <span id="confirmation-date" class="font-bold">Next Saturday</span>
                </div>
                <div class="mb-2 text-sm text-gray-600">
                    <p id="confirmation-date-info">This seva will be performed next Saturday.</p>
                </div>
                <div class="flex justify-between">
                    <span class="font-medium">Amount Paid:</span>
                    <span id="confirmation-amount" class="font-bold text-yellow-600">₹25,001</span>
                </div>
            </div>
            <div class="text-center">
                <p class="text-gray-600 mb-4">You will receive a confirmation email shortly.</p>
                <button onclick="closeConfirmationModal()" class="bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-2 px-6 rounded transition duration-300">Close</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">Shree Dattatreya Durgambika Devasthana</h3>
                    <p class="text-gray-400">Conducted by Shree Dattatreya Mitra Bhajana Mandali (R.).</p>
                </div>
                <div class="md:col-start-3">
                    <h3 class="text-xl font-bold mb-4">Contact Us</h3>
                    <ul class="space-y-2">
                        <li class="flex items-center">
                            <i class="fas fa-map-marker-alt mr-2 text-yellow-400"></i>
                            <span class="text-gray-400">Shree Dattatreya Durgambika Mandir Marg, Subash Nagar Asalpha, Ghatkopar West, Mumbai, Maharashtra 400084</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-phone-alt mr-2 text-yellow-400"></i>
                            <span class="text-gray-400">77770 78349</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-envelope mr-2 text-yellow-400"></i>
                            <span class="text-gray-400">dattadurga1964@gmail.com</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; Shree Dattatreya Durgambika Devasthana. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Initialize EmailJS with your User ID
        (function() {
            emailjs.init("kCODbNQD4icurCU04"); // Replace with your actual EmailJS user ID
        })();

        // Current selected seva details
        let selectedSeva = {
            name: '',
            amount: 0,
            date: null,
            time: ''
        };

        // Helper function to get seva type
        function getSevaType(name) {
            const nextSaturdaySevas = [
                'Sarva Seva', 'Maha Pooja', 'Poorna Alankara Seva', 
                'Deepa Alankara Seva', 'Annadana Seva', 'Maha Naivedya', 
                'Navadurga Pooja', 'Laxmi Kayee', 'Prashne', 'Annadana'
            ];
            const dailySevas = [
                'Pushpa Pooja', 'Durga Pooja', 'Dattatreya Pooja', 
                'Gaddige Pooja', 'Annjaneya Seva', 'Kalasha Sthana', 
                'Kumkum Archane', 'Four Wheeler Pooja', 'Two Wheeler Pooja',
                'Karpoora Aarthi', 'Shaswata Pooja'
            ];
            const lastSaturdaySevas = [
                'Dosha Nivarane (Single)', 'Dosha Nivarane (Family)'
            ];
            const sankrantSevas = ['Chamundi Paniyara Seva'];
            const nagaPanchamiSevas = ['Naga Tanu'];

            if (nextSaturdaySevas.includes(name)) return 'nextSaturday';
            if (dailySevas.includes(name)) return 'daily';
            if (lastSaturdaySevas.includes(name)) return 'lastSaturday';
            if (sankrantSevas.includes(name)) return 'sankrant';
            if (nagaPanchamiSevas.includes(name)) return 'nagaPanchami';
            return 'nextSaturday'; // default
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            
            // Initialize form validation
            document.getElementById('booking-form').addEventListener('submit', function(e) {
                e.preventDefault();
            });
        });

        // Select seva
        function selectSeva(name, amount) {
            selectedSeva = {
                name: name,
                amount: amount,
                type: getSevaType(name)
            };
            
            document.getElementById('selected-seva-name').textContent = name;
            document.getElementById('selected-seva-amount').textContent = `₹${amount}`;
            
            // Update date information based on seva type
            const dateInfo = document.getElementById('seva-date-text');
            const dateSelection = document.getElementById('date-selection');
            
            if (selectedSeva.type === 'daily') {
                dateInfo.textContent = 'Please select a date for this seva:';
                dateSelection.classList.remove('hidden');
            } else if (selectedSeva.type === 'lastSaturday') {
                dateInfo.textContent = 'This seva will be performed on the last Saturday of this month.';
                dateSelection.classList.add('hidden');
            } else if (selectedSeva.type === 'sankrant') {
                dateInfo.textContent = 'This seva will be performed on the next Sankrant day.';
                dateSelection.classList.add('hidden');
            } else if (selectedSeva.type === 'nagaPanchami') {
                dateInfo.textContent = 'This seva will be performed on the next Naga Panchami.';
                dateSelection.classList.add('hidden');
            } else {
                dateInfo.textContent = 'This seva will be performed the next Saturday of booking.';
                dateSelection.classList.add('hidden');
            }
            
            // Show booking form section
            document.getElementById('booking-form-section').classList.remove('hidden');
            
            // Scroll to booking form
            document.getElementById('booking-form-section').scrollIntoView({ behavior: 'smooth' });
        }

        // Show confirmation modal
        function showConfirmationModal(bookingId) {
            let formattedDate;
            const dateInfo = document.getElementById('confirmation-date-info');
            
            if (selectedSeva.type === 'daily') {
                const selectedDate = new Date(document.getElementById('seva-date').value);
                formattedDate = selectedDate.toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    month: 'long', 
                    day: 'numeric', 
                    year: 'numeric' 
                });
                dateInfo.textContent = 'This seva will be performed on the selected date.';
            } else if (selectedSeva.type === 'lastSaturday') {
                const today = new Date();
                const lastDay = new Date(today.getFullYear(), today.getMonth() + 1, 0);
                const lastSaturday = new Date(lastDay);
                lastSaturday.setDate(lastDay.getDate() - (lastDay.getDay() + 1) % 7);
                formattedDate = lastSaturday.toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    month: 'long', 
                    day: 'numeric', 
                    year: 'numeric' 
                });
                dateInfo.textContent = 'This seva will be performed on the last Saturday of this month.';
            } else if (selectedSeva.type === 'sankrant') {
                formattedDate = 'Next Sankrant Day';
                dateInfo.textContent = 'This seva will be performed on the next Sankrant day.';
            } else if (selectedSeva.type === 'nagaPanchami') {
                formattedDate = 'Next Naga Panchami';
                dateInfo.textContent = 'This seva will be performed on the next Naga Panchami.';
            } else {
                const today = new Date();
                const nextSaturday = new Date(today);
                nextSaturday.setDate(today.getDate() + (6 - today.getDay() + 7) % 7);
                formattedDate = nextSaturday.toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    month: 'long', 
                    day: 'numeric', 
                    year: 'numeric' 
                });
                dateInfo.textContent = 'This seva will be performed next Saturday.';
            }

            // Update modal with booking details
            document.getElementById('booking-id').textContent = bookingId;
            document.getElementById('confirmation-seva').textContent = selectedSeva.name;
            document.getElementById('confirmation-date').textContent = formattedDate;
            document.getElementById('confirmation-amount').textContent = `₹${selectedSeva.amount}`;
            
            // Show modal
            document.getElementById('confirmation-modal').classList.remove('hidden');
        }

        // Show payment modal
        function processPayment() {
            // Validate form
            const form = document.getElementById('booking-form');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            // Update payment modal with booking details
            document.getElementById('payment-seva').textContent = selectedSeva.name;
            document.getElementById('payment-amount').textContent = selectedSeva.amount;
            document.getElementById('payment-amount-display').textContent = `₹${selectedSeva.amount}`;
            
            // Show payment modal
            document.getElementById('payment-modal').classList.remove('hidden');
        }

        // Close payment modal
        function closePaymentModal() {
            document.getElementById('payment-modal').classList.add('hidden');
        }

        // SheetDB API endpoint (replace with your actual SheetDB endpoint)
        const SHEETDB_API_URL = 'https://sheetdb.io/api/v1/vp1881taj8uzh';
        
        // Verify payment and save to Excel
        function verifyPayment() {
            // Show loading modal
            document.getElementById('loading-modal').classList.remove('hidden');
            
            // Close payment modal
            closePaymentModal();
            
            // Get form values
            const fullName = document.getElementById('full-name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;
            const anyQuestions = document.getElementById('any-questions').value;
            
            // Generate booking ID
            const bookingId = 'DB' + Date.now().toString().slice(-6);
            
            // Format date based on seva type
            let formattedDate;
            if (selectedSeva.type === 'daily') {
                const selectedDate = new Date(document.getElementById('seva-date').value);
                formattedDate = selectedDate.toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    month: 'long', 
                    day: 'numeric', 
                    year: 'numeric' 
                });
            } else if (selectedSeva.type === 'lastSaturday') {
                const today = new Date();
                const lastDay = new Date(today.getFullYear(), today.getMonth() + 1, 0);
                const lastSaturday = new Date(lastDay);
                lastSaturday.setDate(lastDay.getDate() - (lastDay.getDay() + 1) % 7);
                formattedDate = lastSaturday.toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    month: 'long', 
                    day: 'numeric', 
                    year: 'numeric' 
                });
            } else if (selectedSeva.type === 'sankrant') {
                formattedDate = 'Next Sankrant Day';
            } else if (selectedSeva.type === 'nagaPanchami') {
                formattedDate = 'Next Naga Panchami';
            } else {
                const today = new Date();
                const nextSaturday = new Date(today);
                nextSaturday.setDate(today.getDate() + (6 - today.getDay() + 7) % 7);
                formattedDate = nextSaturday.toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    month: 'long', 
                    day: 'numeric', 
                    year: 'numeric' 
                });
            }

            // Prepare email parameters
            const templateParams = {
                to_email: email, // Send to user's email
                cc: "kunalgamin07@gmail.com", // CC to admin
                from_name: "Divine Blessings Temple",
                reply_to: "info@divineblessings.com",
                subject: `Seva Booking Confirmation - ${bookingId}`,
                message: `Dear ${fullName},\n\n
Seva booking has been confirmed with the following details:\n\n
Booking ID: ${bookingId}\n
Seva Name: ${selectedSeva.name}\n
Amount: ₹${selectedSeva.amount}\n
Date: ${formattedDate}\n\n
Personal Details:\n
Full Name: ${fullName}\n
Email: ${email}\n
Phone: ${phone}\n
Address: ${address}\n
Any Questions: ${anyQuestions}\n\n
Shree Dattatreya Durgambika Devasthana\n
Shree Dattatreya Durgambika Mandir Marg, Subash Nagar Asalpha, Ghatkopar West, Mumbai, Maharashtra 400084\n
+91 7777078349`
            };

            // Save data to Excel via SheetDB
            const excelData = {
                data: [{
                    'Booking ID': bookingId,
                    'Full Name': fullName,
                    'Email': email,
                    'Phone': phone,
                    'Address': address,
                    'Seva Name': selectedSeva.name,
                    'Amount': selectedSeva.amount,
                    'Date': formattedDate,
                    'Questions': anyQuestions,
                    'Timestamp': new Date().toISOString()
                }]
            };

            fetch(SHEETDB_API_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(excelData)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Successfully saved to Excel:', data);
            })
            .catch((error) => {
                console.error('Error saving to Excel:', error);
            });

            // Simulate processing delay (2 seconds)
            setTimeout(function() {
                // Send email
                emailjs.send('service_46mvt6t', 'template_gzqxgot', templateParams)
                    .then(function() {
                        // Hide loading modal
                        document.getElementById('loading-modal').classList.add('hidden');
                        showConfirmationModal(bookingId);
                    }, function(error) {
                        console.error('Failed to send email:', error);
                        // Hide loading modal
                        document.getElementById('loading-modal').classList.add('hidden');
                        showConfirmationModal(bookingId);
                    });
            }, 2000);
        }

        // Close confirmation modal
        function closeConfirmationModal() {
            document.getElementById('confirmation-modal').classList.add('hidden');
            
            // Reset form
            document.getElementById('booking-form').reset();
            
            // Reset selected seva
            selectedSeva = {
                name: '',
                amount: 0
            };
            
            // Reset UI elements
            document.getElementById('selected-seva-name').textContent = '';
            document.getElementById('selected-seva-amount').textContent = '₹0';
            
            // Hide booking form section
            document.getElementById('booking-form-section').classList.add('hidden');
        }
    </script>
</body>

</html>

